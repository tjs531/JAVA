//lezin 미완성


import java.io.IOException;
import java.io.InputStreamReader;
import java.io.UnsupportedEncodingException;
import java.net.URL;
import java.util.*;

import org.json.simple.*;
import org.json.simple.JSONArray;
import org.json.simple.JSONObject;

public class Lezin {
	public static void main(String[] args) throws UnsupportedEncodingException, IOException{
			
		URL url = new URL("https://www.lezhin.com/api/v2/inventory_groups/home_scheduled_k?platform=web&store=web&_=1597027210408");
		InputStreamReader isr = new InputStreamReader(url.openConnection().getInputStream(), "UTF-8");
		JSONObject object = (JSONObject)JSONValue.parse(isr);
		
		ArrayList<Cartoon> list = new ArrayList<Cartoon>();
		
		
		JSONObject gata = (JSONObject) object.get("data");

		JSONArray bodyArray = (JSONArray) gata.get("inventoryList");
		
		//inventoryList안에 있는 items 배열 안에 정보들 꺼내와야 함. 배열 많음
		
		
		/*for(int i = 1 ; i < bodyArray.size(); i++){

			JSONObject data = (JSONObject) bodyArray.get(i);        

			Cartoon car = new Cartoon();
			car.setTitle(data.get("title").toString());
			JSONArray au = (JSONArray) data.get("authors");
			//JSONObject a = (JSONObject) au.get(0);
			//car.setAuthor(au.get("name").toString());
			car.setAge_grade(data.get("id").toString());
			
			list.add(car);
		}*/

		for(Cartoon c : list) {
			System.out.println(c.getTitle());
			System.out.println(c.getAuthor());
			System.out.println(c.getAge_grade());
		}
	}
}
